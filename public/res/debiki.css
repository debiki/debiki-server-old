/* Copyright (c) 2010 - 2012 Kaj Magnus Lindberg. All rights reserved.
 *
 *
 * Tips: List all CSS classes like so: (old `find`, finds nothing nowadays?)
 *   find debiki-core-basedir/src -type f -print0 | \
 *     xargs -0 egrep -ho "dw-[[:alnum:]-]+" | sort | uniq -c
 * Narrower:
 *   find src/main/scala/com/debiki/v0/html.scala src/main/scala/com/debiki/v0/App.scala src/main/resources/js/debiki.js src/main/resources/css/debiki.css ../../debiki-jspwiki-forum/src/main -type f -print0 | xargs -0 egrep -ho "dw-[[:alnum:]-]+" | sort | uniq -c
 *
 * Form names decrypted:
 *
 *  debiki-       public API
 *  debiki-0-     public API version 0
 *  dw-           prefix for internal classes and ids, avoids name clashes
 *  -a-           action
 *  -adv-         advanced, stuff hidden for most users
 *  -ap-          applied/application
 *  -adr-         address
 *  -ar-          article — the page body (and/or title?), post id 1 (and 2)
 *  -arw-         arrow (points from a post to its replies)
 *  -bd-          body
 *  -by           by whom post was written. COULD change -p-by -> -p-u (user)?
 *  -cr-          create  — rename to -crt-?
 *  -dl-          delete  — rename to 'del'?
 *  -dt           date?  currently, '-at' used instead
 *  -dg-          dialog?
 *  -e-           edit
 *  -e            east (COULD change to "ew", eastwards, and use "e" for edit)
 *                  and new (no good!, "new") sew etc. for northeastwards etc.
 *                  Or 'de', direction-east, dn/w/s/e dnw/sw/se/ne ?
 *  -eml-         email
 *  -f-           form
 *  -fs-          form group - COULD change to -dlg- or -dg-
 *  -fi-          form <input>
 *  -flg-         flag
 *  -hd-          head
 *  -hor-         horizontal layout COULD rename to -hz- ? -vt- = vertical?
 *  -i-           inline
 *  -ibx-         inbox
 *  -img-         image
 *  -inf-         information
 *  -lbl-         label
 *  -lgi-         login
 *  -lgo-         logout
 *  -login-       COULD change to -lgi
 *  -logout-                      -lgo
 *  -m-           mark
 *  -mup-         markup
 *  -ntf-         notification
 *  -ntf-sts      notification status code
 *  -ntf-msg      notification message
 *  -ntf-shw      notification show more button/link
 *  -ntf-dtl      notification details
 *  -p-           post
 *  -pg-          page
 *  -prf-         preference(s)
 *  -prvw-        preview
 *  -q-           ?? post-before (looks like p, but flipped — before, not after)
 *  -r-           rating
 *  -re-          reply   (COULD rename to "p", for "post")
 *  -res-         replies (COULD rename to "ts", "threads")
 *  -rez-         resized (COULD rename to "rzd" and let "rz" mean resize)
 *  -s            south (COULD change to "sw", southwards)
 *                        COULD then use 's' for `summary'?
 *  -sg-          suggestion
 *  -svg-         SVG graphics COULD rename most -svg- to -arw- (arrow)
 *  -t-           thread
 *  -ts-          threads
 *  -ts-          timestamp? or use ds, datestamp? or use -dt-, "date"?
 *  -tps-         tips
 *  -ttl-         ?? title ? (time-to-live not of relevance in CSS?)
 *  -u-           user
 *  -ua-          user agent (i.e. the browser)
 *  -ui-          user interface
 *  -vs-          votes
 *  -z-           fold (z looks like a folded paper from the side)
 *  -zd-          folded, e.g. a collapsed thread
 *
 *  dw-a-rate     rate reply
 *  dw-a-reply    new reply
 *  dw-a-more     shows more actions: link/report/delete
 *  dw-a-edit     list edit suggestion
 *  dw-e-ap-dt    edit application date
 *  dw-e-sg-dt    edit suggestion date
 *  dw-e-sg-vs    votes on a certain edit suggestion --deprecated--
 *  dw-f-eml-prf  email notification preferences
 *  dw-fi-e-prvw  edit form input, preview
 *  dw-fs         form group      (COULD remove — there're no groups any more?)
 *  dw-fs-e       edit form group (COULD rename to -f-e/re/rat ?)
 *  dw-fs-re      reply form group
 *  dw-fs-r       rating form group
 *  dw-fs-flg     flag for spam/abuse/etc form
 *  dw-hor-a      action stuff, layed out horizontally
 *  dw-if-opera   shown only for Opera
 *  dw-if-lte-ie7 shown only for Internet Explorer <= version 7
 *  dw-i-t        inline thread (COULD use dw-i instead, already has dw-t class)
 *  dw-i-m        inline mark (COULD rename to dw-m — *all* marks are inline?)
 *  dw-i-m_<#id>  mark for thread #id (e.g. dw-i-m_dw-t-<thread-id>)
 *  dw-m-p-by-me  the user's own post
 *  dw-m-p-edited the post was just edited (edits were axaj-fetched)
 *  dw-m-t-new    this thread was just fetched via ajax, the user hasn't seen it
 *  dw-p-art-qst  (placed on a thread) the related post is an article question
 *  dw-p-bd       post body
 *  dw-p-bd-blk   post body block, a <div> that wraps e.g. a <p>
 *  dw-p-dl       a post, deleted
 *  dw-p-hd       post header
 *  dw-p-rez-e    post resized eastwards
 *  dw-pri        placed on the <body>, use it to boost CSS rule priorities
 *  dw-render-*-pending — a page rendering step that has not yet been completed
 *  dw-svg-c_<x>  SVG curve from <x>  COULD rename to -svg-p, for `path'
 *                  better: rename to -arw-from_<x>
 *  dw-svg-gparnt Has a <svg> child or grandchild (but no grand-grand-child)
 *  dw-svg-parent Has a <svg> child
 *  dw-keyrecvr   keyboard shortcut receiver
 *  dw-t-dl       a thread, deleted
 *  dw-lg-t-spl   Login type simple — COULD rename to -lgi-t-spl  (with 'i')
 *  dw-u-id-<x>   user id <x>
 *  dw-u-may-edit User may edit page (placed on the <body>)
 *  dw-u-is-admin User is admin (placed on the <body>)
 *  dw-ua-lte-ieX user agent is Internet Explorer X or below
 *  dw-ui-simple  show simple user interface
 *  (dw-ui-adv    show advanced user interface)
 *  (dw-ui-compl  show complicated user interface)
 *  dw-x-         miscellaneous classes, perhaps to be renamed later
 *
 *  ... and so on, hmm.
 *  COULD rename dw-e-tab  to  dw-e-f-pnls  or  dw-e-f-tab-pnls  (panels)
 */

/* Public CSS API

Sometimes including a version number (i.e. '0'), if the behavior
might change in the future.

.debiki-show-if-lte-ie7
.debiki-show-if-lte-ie8
.debiki-show-unless-lte-ie7
.debiki-show-unless-lte-ie8

.debiki-0-mark-current-site-section
  If you place this class on the site main <nav>, then Debiki adds
  the class 'debiki-0-current-site-section' to [the nav link
  to the site section the user is currently visiting].

.debiki-0-current-site-section
  Indicates which <nav> link points to the section the user
  is currently visiting. Placed by Debiki.
  You could style it, so people knows where they are, e.g. like so:
    nav a.debiki-0-current-site-section {
      font-weight: bold;
      font-size: 105%;
    }


*/

/* === Standard tags === */


/* --- IE 6, 7 and 8 non-comopatibility --- */

.debiki-show-if-lte-ie7,
.debiki-show-if-lte-ie8 { display: none; }
body.dw-ua-lte-ie7 .debiki-show-if-lte-ie7 { display: inline; }
body.dw-ua-lte-ie7 div.debiki-show-if-lte-ie7 { display: block; }
body.dw-ua-lte-ie8 .debiki-show-if-lte-ie8 { display: inline; }
body.dw-ua-lte-ie8 div.debiki-show-if-lte-ie8 { display: block; }
body.dw-ua-lte-ie7 .debiki-show-unless-lte-ie7,
body.dw-ua-lte-ie8 .debiki-show-unless-lte-ie8 { display: none; }


/* --- Standard elems ---*/

a {
  cursor: pointer;
}

ins {
  text-decoration: none;
  background: #9f9;
}

del {
  text-decoration: line-through;
  background: #ffd0d0;
}

/* Use larger font when editing page title. */
.dw-pri .dw-p-ttl > .dw-f-e textarea {
  font-size: 26px;
}

.dw-p-bd-blk {
  margin: 0;
}

.dw-ar-p {
  padding-bottom: 0.8em;
}



/* === Page rendering === */

/* Avoid float dropping of root post replies, early when the page width
has not been calculated.
1. Details: The root post might be too narrow and stuff might float drop,
which is ugly, and could rersult in SVG arrows being drawn incorrectly.
Avoid this, by making the root thread wide, whilst rendering the page.
When done, resizeRootThread, in debiki.js (which is loaded asynchronously),
will size the root thread properly.
2. It's a bad idea to completely hide comments until the layout is completed:
any <footer> would flash in the middle of the page (just below the article)
and then moments later be pushed downwards off screen, by all comments,
when they appear.
3. Sometimes <html> elem classes cannot be edited (namely in certain WordPress
themes) so make all this work also when Debiki's classes are placed on the
<body>.
*/
html.dw-render-layout-pending .debiki.dw-debate,
body.dw-render-layout-pending .debiki.dw-debate {
  width: 200200px;
}

/* Hide ugly React action links until they've been converted to
beautiful Reply, Rate etcetera links. */
html.js.dw-render-actions-pending .dw-as,
html.js body.dw-render-actions-pending .dw-as {
  visibility: hidden;
}


/* === Debate === */

.dw-debate {
  position: relative;
}

.dw-debate-info {
  display: none; /* need to place somewhere where it won't confuse newbies */
}


/* === Threads === */


.dw-depth-1 .dw-t {
  padding-left: 0;
  border-top: none;
}

/* --- Horizontal layout ---*/
/* (This could be simplified?) */

.dw-t {
  /* SVG graphics is absolute positioned relative thread */
  position: relative;
}

/* The root thread's parent elem is resized to be as wide as the root thread,
to avoid float drop. See resizeRootThreadImpl() in debiki.js.
For that to work, this is needed: */
.dw-depth-0.dw-t {
  /* Make the root thread not [expand eastwards to fill up its
  parent's width]. */
  float: left;
  /* Ensure the root thread fits inside its parent, if the parent
  width is set to the root thread's width. */
  margin: 0;
  padding: 0;
}

.dw-depth-1:not(.dw-hor) .dw-t {
  float: none;
  clear: both; /* else the rating form might float to the left */
}

.dw-depth-1.dw-hor > .dw-res {
  width: 9999px; /* for now. COULD calculate in JavaScript instead
                    — the hardcoded width is almost always too large, but
                    sometimes too small and then causes float drop. */
}



/* === Posts === */

.dw-pri .ui-resizable-se {
  /* The small grip has been replaced with the normal grip
  (search for "ui-icon-grip" in debiki.js), so we make the
  tag a few pixels wider. */
  height: 17px;
  width: 17px;
  background-position: -80px -222px;
  background-color: white; /* hides text beneath, else grip hard to notice */
}

/* Hide the reply form resize handle unless hovering the form. */
.dw-fs-re .ui-resizable-se { visibility: hidden; }
.dw-fs-re:hover .ui-resizable-se { visibility: visible; }

/* Prevent the edit form from getting as wide as the page. */
.dw-depth-0 > .dw-p > .dw-f-e .dw-e-tabs {
  float: left;
}



/* Make the s,n,e,w handles larger (else hard to drag) and place them
1 layer below the .ui-resizable-se handle (see above),
so as not to hide that handle (which is assigned z-index 1001 by
some jQuery code somewhere; I cannot find 1001 in any CSS class).*/
.dw-pri .ui-resizable-n,
.dw-pri .ui-resizable-s {
  height: 10px;
  z-index: 1000;
}
.dw-pri .ui-resizable-s {
  bottom: 0; /* jquery-ui says -5 which overflows */
}
.dw-pri .ui-resizable-e,
.dw-pri .ui-resizable-w {
  width: 13px;
  z-index: 1000;
}
.dw-pri .ui-resizable-e {
  right: 0; /* jquery-ui says -5 which overflows */
}
/* But don't raise the vertical lines between depth-1 threads
 above ?? .dw-p:hover, with z-index: 10 ?? (rewrote old comment) */
.dw-depth-1 > .ui-resizable-handle {
  z-index: 1; /* [0QKxg2] */
}

/* === Cropped and resized posts === */

.dw-p.dw-x-s > .dw-p-bd,
.dw-p.dw-x-s > .dw-p-hd {
  max-height: 4em;
  /* The max-height of a truncated .dw-p-bd is 4em, but if floating
  elements are present inside the -p-bd (e.g. inline reply threads)
  its height might grow to e.g. 2000 px. Then at least Chrome places the
  truncation mark far away, so the parent .dw-p grows to e.g. 2000 px.
  By hiding overflow, the truncation mark won't be pushed down by other
  tags inside the .dw-p-bd, and the parent .dw-p won't be larger than
  what it's supposed to be (i.e. roughly 4em + 4em). */
  /*overflow: hidden;  -- no, doesn't work well: in some unfathomable
  weird way, the inline thread disappear upwards, but space is reserved for
  them below, as if I had added `relative: -2000px' (which I have not).  */
}

.dw-p.dw-x-s {
  /* Since `overflow: hidden' on .dw-p-bd doesn't work well (see the
  long comment above), restrict max-height of the .dw-p instead (again
  see the long comment above, for info on why this is done). */
  max-height: 8em;
}

.dw-p > .dw-x-mark {
  display: block;
  position: absolute;
  bottom: 0px;
  right: -3px;
  padding: 4px 25px 0 10px; /* there's a resizable-se grip to the right */
  height: 17px;
  background: white;
  font-style: italic;
  letter-spacing: 0.3ex;
}
.dw-p.dw-x-s:hover > .ui-resizable-se,
.dw-p.dw-x-s:hover > .dw-x-mark {
  background-color: #fdc;
  color: #363636;
}

/* Indicate which borders the user has resized. */
.dw-p-rez-e {
  border-right: 1px solid #888;
  padding-right: 3px; /* or text to close to the border */
  /* This post might extend over [a thread to the right], since
  it has been resized eastwards. So as not to draw this post and
  [the post to the right] over each other, let this post hide 
  [the post to the right] by specifying a higher z-index. */
  z-index: 11;
}
.dw-p-rez-e:hover {
  z-index: 12; /* or resized thread might be merged with each other */
}
.dw-p-rez-s {
  border-bottom: 1px solid #888;
  /* padding-bottom: 3px; -- pointless: because of overflow, text might
                          end up immediately next to the border anyway */
}

/* --- Hide interactions --- */

.dw-a-show-interactions {
  color: #3872AB !important;
  visibility: visible !important;
  font-size: 10px;
}

/* Sync these selectors with showCommentsOnClick in debiki.js. */
.dw-hide-interactions .dw-ar-t > .dw-p > .dw-p-hd,
.dw-hide-interactions .dw-ar-t > .dw-res,
.dw-hide-interactions .dw-ar-t > .dw-p > .dw-p-bd > .dw-p-bd-blk .dw-i-m-start,
.dw-hide-interactions .dw-ar-t > .dw-p > .dw-p-bd > .dw-i-ts,
.dw-hide-interactions .dw-debate svg {
  display: none;
}

/* --- Comments ---*/

.dw-t {
  margin: 8px 0 0 5px;
}

/* Show column separator and resizor on hower. */
.DW.DW .dw-hor > .dw-res > * > .ui-resizable-handle.ui-resizable-e {
  border-right: 2px dashed transparent;
}
.DW.DW .dw-hor > .dw-res > :hover > .ui-resizable-handle.ui-resizable-e {
  border-right-color: lightgray;
}


.dw-hor > .dw-res > li {
  float: left;
  padding: 0 27px 10px 0;
  margin: 10px 23px 0 0;
}

.DW.DW .dw-res > li {
  list-style-type: none;
}

/* Make the column separator at least this high. But don't do this for
.dw-fs because forms are folded/slided out, i.e. shrinked to zero height */
.dw-hor-a,
.dw-depth-1:not(.dw-i-t) {
  min-height: 100px;
}

/* Empty space between a post and its child threads, when laid
 out horizontally. SVG relationship arrows drawn here. */
.dw-t-vspace {
  height: 84px;
}

.dw-depth-1 {
  width: 25em; /* avoids > 1 column for this depth */
}

.DW.DW .dw-res {
  margin: 0;
  padding: 0; /* if no CSS reset included */
}

.DW.DW .dw-depth-1 .dw-res {
  margin: 0 0 0 35px;
  padding-top: 3px;
}

/* Add some whitespace above replies, when laid out horizontally,
so there's some space for the SVG arrows. */
.DW.DW .dw-hor:not(.dw-depth-0) > .dw-res {
  margin-top: 35px;
}
.dw-hor:not(.dw-depth-0) > .dw-hor-a {
  margin-top: 48px;a /* aligns with the .dw-p:s to the right, which
                      have some padding */
}

.dw-p {
  margin-left: 35px;
  /* overflow: hidden; No, or sort order and reply btn tips won't appear */
  background-color: white;
}
/* But show the whole article (or <pre>s with very long lines
might be cropped). */
.dw-ar-p { overflow: visible; }
/* Deleted posts appear as just a single text line,
looks better if they appear close to the fold link. */
.dw-p-dl { margin-left: 23px; }

/* If the thread has been deleted, there's no fold/unfold button to the left. */
.dw-t-dl > .dw-p {
  margin-left: 0;
}

.dw-p-hd {
  padding-left: 3px;
  font-size: 10px;
  color: #141414;
  background-color: #f4f4f4;
  border: 1px solid #ededed;
  border-left: none;
  border-right: none;
  line-height: 15px; /* or test w 120% */
}
.dw-ar-p > .dw-p-hd {
  border: none;
}


/* Don't pad the root post and titles (titles are already indented since
they're placed inside another post already). */
.dw-depth-0 > .dw-p > .dw-p-hd,
.dw-depth-0 > .dw-p > .dw-p-bd,
.dw-p-ttl,
.dw-p-ttl > .dw-p-bd {
  margin-left: 0;
  padding-left: 0;
}

.dw-p-dl > .dw-p-hd {
  margin-bottom: 24px; /* for now — there're currently no spacy hidden
                          action links below deleted posts */
  font-style: italic;
  background-color: transparent;
}

/* Users with links to more info, e.g. website or blog */
.dw-pri a.dw-p-by,
.dw-pri a.dw-p-e-by {
  color: #369; /* same as reddit */
  font-weight: bold;
}

/* Users with no links to more info */
span.dw-p-by,
span.dw-p-e-by {
  color: #555;
  font-weight: bold;
}

/* Make authorship info easy to read */
:not(.dw-p-hd-e) > .dw-p-by {
  font-size: 11px;
  margin-right: 0.9ex;
}

.dw-lg-t-spl {
  font-size: 90%;
  padding-left: 2px;
  padding-right: 2px;
}

/* For the *article* itself, make author and post date info less conspicuous,
or it steals attention from the page title. (But don't do this for any root
post, only for the article.) */
.dw-ar-p > .dw-p-hd {
  background-color: transparent;
  opacity: 0.6;
  font-size: 10px;
}
.dw-ar-p > .dw-p-hd:hover {
  opacity: 1;
}
.dw-ar-p > .dw-p-hd > .dw-p-by {
  color: #396D99;
}

.dw-z {
  position: absolute !important; /* or set to relative by :not(svg) [31Ik53] */
  /* Could use blue (#369) to indicate they're clickable, but don't — I guess
  it's more important that they don't grab any attention, than that
  people notice that they can close threads. */
  color: #666;
  font-size: 13px;
  font-family: Verdana;
  text-decoration:none;
  z-index: 2; /* place above PNG arrow hiders */
}
.dw-z:hover {
  color: #c77405;
}

/* Don't underline the fold link, [-]. (Ignore old borken browsers.) */
.dw-t:not(.dw-zd) > .dw-z { text-decoration: none; }

/* When a thread is folded, there's nothing in it that occupies any space,
and two folded threads would overlap, unless: */
.dw-zd > .dw-z {
  position: relative !important; /* cancel position: absolute */
}

/* For a folded thread, only the open link (.dw-z) is visible. */
/* This verbose code works also in IE 7: */
.dw-zd > * { display: none; }
.dw-zd > .dw-z, .dw-zd > .dw-arw { display: block; }
.dw-zd > .dw-svg-fake-varrow { display: none; }

/* Un-indent any root post, by hiding the collapse button.
 (Why would one want to hide the root post?) */
.dw-depth-0 > .dw-z {
  display: none;
}
.dw-depth-0 > .dw-p {
  margin-left: 0;
  /*float: left; /* or the header will be as wide as the root thread */
   /* fix the header instead? I need to fix it anayway */
}

.dw-p-bd,
.dw-p-diff {
  padding: 6px 1px 0 3px; /* 3px aligns w .dw-p-hd (also padded left 3px) */
  position: relative;
  background-color: white;
  min-width: 5em;
}

:not(.dw-ar-p-bd) > .dw-p-bd-blk {
  /* Cancel .dw-p-bd 3px padding-left:, because the .dw-p-bd-blk is
  100% wide though, and without padding-right, text might be cropped. */
  padding-right: 3px;
  /* Adjus max comment width: don't span whole screen even if
  .post.cropped-e is removed. */
  max-width: 40em;
}



.dw-p-diff {
  line-height: normal; /* or becomes 120% so -diff lines lines overlap */
}

/* Don't place the body too close to the title. But cannot add margin to the
title — that'd push away the .dw-p-hd away. So add to the -bd instead.
<h2> should have a fairly large margin-top (because it's a h2), so skip it.
— The reason all this is needed is that the elems
float:left, which makes margins add to each other, instead of overlapping
each other. I should rewrite, and try to avoid float:left?  (skip old IE) */
.dw-p-ttl + .dw-p-hd + .dw-p-bd > .dw-p-bd-blk > :first-child:not(h2) {
  margin-top: 26px;
}

/* Make inline threads compact. */
.dw-i-t > .dw-p > .dw-p-bd,
.dw-i-t > .dw-p > .dw-p-diff {
  padding-top: 1px;
}
.dw-i-t > .dw-p > * /*.dw-p-bd or -diff*/ > .dw-p-bd-blk {
  padding: 0;
  margin: 0;
}
.dw-i-t > .dw-p > * /*.dw-p-bd or -diff*/ > .dw-p-bd-blk ~ .dw-p-bd-blk {
  margin-top: 0.6em;
}

.dw-p:hover {
  /* If the post is beeing up-sized, its up-sized parts might be hidden
  by another thread, because its z-index has not yet been set to 11
  by the adding of class dw-p-rez-e. Therefore: */
  z-index: 10;
}

.dw-as {
  margin: 0 0 9px 37px;
  /* Use padding-top not margin-top here, or there'll be a tiny space between
  the post and the .dw-as, which triggers a certain $thread.mouseleave() in
  debiki.js which, for inline actions, hides the action menu — just before
  you're able to click any action. */
  padding-top: 4px;
  position: relative; /* for position: absolute 'Click this...' tips, inside */
}

.dw-hor-a {
  float: left;
  position: relative; /* curve image placed relative */
  padding-right: 20px;
  margin: 10px 16px 0 12px;
}

/* The reply button text can be customized, so it might be rather wide,
so set max-width and line height. */
.dw-hor-a > .dw-a-reply {
  max-width: 8em;
  display: inline-block; /* or max-width has no effect */
  line-height: 120%;
}

.dw-a {
  text-decoration: none;
  color: #3872ab;
  font-size: 13px;
}

.dw-a-disabled { color: #d2d2d2 !important; cursor: default; }
.dw-a-disabled:hover { text-decoration: none !important; }

.dw-t > .dw-as > .dw-a {
  color: #ff4836; /* make action links stand out (but skip root post link) */
  margin-right: 12px;
}

.dw-a-color-primary {
  color: #ff4836 !important; /* the color for the most common actions */
}

.dw-t > .dw-as > .dw-a-more,
.dw-t > .dw-as > .dw-a-link,
.dw-t > .dw-as > .dw-a-edit,
.dw-t > .dw-as > .dw-a-flag,
.dw-t > .dw-as > .dw-a-delete {
  color: #777; /* make rather uninteresting actions gray */
}

.dw-t > .dw-as > .dw-a:last-child {
  margin-right: 0; /* avoid float drop */
}

/* Make the reply and rate links easy to notice. */
.dw-t > .dw-as > .dw-a-reply,
.dw-t > .dw-as > .dw-a-rate {
  font-weight: bold;
}

.dw-a:hover {
  color: #c77405; /* jQuery UI's ui-state-hover color */
  text-decoration: underline;
}

.dw-hor-a > .dw-a.dw-a-reply {
  font-size: 17px;
  margin: 0;
}

.dw-hor-a > .dw-a:not(.dw-a-reply) {
  display: block;
  margin-top: 1.3em;
  visibility: hidden; /* shown on .dw-a-more click */
  font-size: 80%;
}
/* IE 7 and 8 bugfix */
.dw-hor-a > .dw-a-more { visibility: hidden; }

/* The `More...' link under the Reply button confuses test users.
Show a cogwheel next to the title instead. For now, hide `More...'. */
.dw-u-is-admin .dw-hor-a > .dw-a.dw-a-more {
  visibility: visible;
  opacity: 0.65; /* the reply link is the important one */
}

.dw-a-link,
.dw-a-edit,
.dw-a-flag,
.dw-a-delete {
  display: none; /* shown on .dw-a-more click */
}

body.dw-u-ui-simple .dw-a-edit { display: none !important; }


/* --- Post info ---*/

.dw-p-hd .dw-p-at {
  /* javascript shows e.g. '7 days ago' instead of the .dw-p-at ISO dates.
  Hiding the dates with jQuery.hide() at page loat time takes long,
  so better hide here. COULD use another stylesheet if javascript disabled. */
  display: none;
}

.dw-p-flgs-top,
.dw-p-rs-top {
}

.dw-p-hd .dw-p-by-me,
.dw-p-hd .dw-p-r-by-me {
  font-weight: bold;
  color: #151515;
}
.dw-p-hd .dw-p-r-by-me > em {
  font-weight: normal;
  color: #111;
}

.dw-p-flgs-all,
.dw-p-r-all {
  display: none; /* shown on .dw-p-hd click */
}

.dw-flgs,
.dw-flgs li,
.dw-rs,
.dw-rs li {
  display: inline;
}

.dw-flgs li,
.dw-rs li {
  margin-left: 0.5ex;
}

.dw-p-hd .dw-rs .dw-r-tag {
  /*font-size: 85%;*/
}

.dw-p-hd .dw-r-count,
.dw-p-hd .dw-r-tag-frac-min,
.dw-p-hd .dw-r-tag-sum,
.dw-p-hd .dw-r-valsum-max {
  margin-left: 3px;
  font-weight: bold;
  display: none; /* it's for debugging mostly; makes non-developers confused */
}

.dw-p-hd .dw-rs .dw-r-tag-frac {
  font-size: 90%;
  position: relative;
  left: -2px;
}


/* --- Posts that are part of the article --- +/

 - Author info not shown — because it's already shown, at the top
    of the article (page).
 - The [-] (fold) button is removed, and the post is unindented
    (left-margin: 0), because you should not be able to hide/fold the
    article itself.
*/

.dw-t.dw-p-art-qst > .dw-z,
.dw-t.dw-p-art-qst > .dw-p > .dw-p-hd {
  display: none !important;
}

.dw-t.dw-p-art-qst > .dw-p {
  margin-left: 5px;
  top: -9px; /* moves it upwards, so it appears slightly above the SVG arrow
              that presumably points to it, at its left side */
  position: relative;
}

/* === Inline replies === */

/* --- Inline mark icons --- */

.dw-i-m-start.ui-icon {
  display: inline-block; /* otherwise display:block, and a new paragraph */
  position: relative;
  margin-left: 5px; /* move away from the word to the left,
                       hmm, this assumes a left-to-right language. LTR RTL */
}

/* Remove white space around the inline marks. */
.dw-i-m-start.ui-icon-arrow-1-e {
  width: 6px; /* or too wide */
  top: 3px;
  left: -3px;
  background-position: -37px -37px;
}
.dw-i-m-start.ui-icon-arrow-1-s {
  width: 8px;
  height: 13px; /* don't push next text line away; the smallest font-size seems
                to be 13px. TODO: always specify font-size in px not %? */
  top: -1px;
  background-position: -70px -36px;
}
.dw-i-m-start.ui-icon-arrow-1-s {
}


/* --- Inline threads --- */

/* Avoid a flash of incorrectly placed inline threads: don't show them
until they've been moved into the .dw-bd-blk > .dw-i-ts. */
.dw-res > .dw-i-t {
  display: none;
}

.dw-hor > .dw-p > .dw-p-bd > .dw-i-ts {
  float: left;
  margin-left: 120px; /* arrows from inline-marks to -threads drawn here */
}

/* Stack inline posts vertically. */
.dw-p-bd .dw-i-t {
  float: left;
  clear: left;
}

/* For vertical layout, place inline threads below the .dw-p-bd-blk, indented.
(With horizontal layout, they're placed to the right of the post.) */
.dw-t:not(.dw-hor) > .dw-p > .dw-p-bd > .dw-i-ts {
  float: left;
  clear: left;
}
.dw-t:not(.dw-hor) > .dw-p > .dw-p-bd > .dw-i-ts > .dw-i-t {
  margin-left: 70px; /* indents, and leaves space for SVG/fake arrows */
}

/* Make inline comments less conspicuous. */
.dw-i-t {
  color: #444;
  font-size: 95%;
}

.dw-i-t > .dw-a {
  margin-bottom: 0px; /* don't push next inline thread away */
}

.dw-p-bd-blk {
  float: left;
  clear: left;
}

/* Adjust inline-replies to the root post. */
.dw-hor > .dw-p > .dw-p-bd > .dw-p-bd-blk + .dw-i-t {
  margin-left: 4em; /* move away from the root post text */
}

/* --- Highlighting --- */

.dw-i-m-start.dw-highlight {
  outline: solid medium #f0a005;
  background-color: yellow;
}

/* --- Hidden templates --- */

#dw-hidden-templates {
  display: none;
}

/* --- Inline action menu ---*/

.dw-pri.dw-pri .dw-as-inline { /* prio, so overrides :not(svg) [31Ik53] */
  position: absolute;
  z-index: 20;
}

.dw-as-inline li {
  margin: 0; /* or margin from `dw-p-bd li' applied */
  float: left;
  list-style-type: none;
}

.dw-as-inline .ui-button {
  margin-right: 0; /* or space between inline action menu buttons */
}

/* --- Edit suggestions ---*/  /* — old not in use? */

.dw-e-sgs {
  border-top: dotted 1px #aaa;
  clear: both; /* or action links push contents rightwards */
  font-size: 85%;
  line-height: 100%;
  color: #444;
  margin: 0 0 25px 40px;
}

.dw-e-sg {
  border-bottom: dotted 1px #ccc;
  padding: 7px 0 2px 0;
  margin: 0 0 0 0;
}

.dw-e-sg:hover {
  background-color: #e5e5e5;
}

.dw-e-sg-vs {
  float: left;
  width: 30px;
}

.dw-e-sg-e {
  position: relative;
  margin-left: 30px;
}

.dw-e-sg .dw-e-text,
.dw-e-sg .dw-e-rslt {
  display: none; /* text used by javascript diff algorithm */
}

.dw-e-sg .dw-e-desc {
}

.dw-e-sg .dw-e-by {
  color: #3872ab; /* same as action links */
}

.dw-e-sg .dw-e-at {
}

/* === Forms === */

.dw-fs {
  margin: 10px 0 20px 5px; /* 5px, like .dw-t */
  position: relative; /* e.g. 'Submitting ...' w/ position: absolute inside */
}
.dw-f { position: relative; } /* shouldn't use both .dw-fs and .dw-f though! */

/* Reduce distance between a form and any parent jQuery UI dialog buttons. */
.ui-dialog > .dw-fs {
  margin-bottom: 11px; /* 20px (from just above) too much */
}

.dw-hor > .dw-res > .dw-fs {
  clear: none; /* or root post forms would be stacked vertically */
}

.dw-fs form {
  z-index: 1100; /* place above column resize handle...
                  ... hmm but it has z-index: 1 only [0QKxg2] */
  position: relative;
  padding: 1em;
  margin-left: 10px; /* move away from any vertical arrow */
  /* My Firifox 3.6 draws outlines very incorrectly for the Rating form,
  (but correctly for Reply and Edit), use borders instead. */
  /* outline: #83c5df solid thick; */
}

.ui-dialog .dw-fs form {
  background-color: #fbf7f2;
  border: 1px solid #f7f3ed; /* almost background color */
  margin: 0 25px 0 8px;
  padding-top: 0.4em; /* smaller than 1em from above `.dw-fs form` */
}

/* jQuery UI dialogs have forms inside. Set the dialog bg color
to the forms bg color. */
.dw-pri .ui-dialog-buttonpane {
  background-color: #fbf7f2;
}

/* Float drop fix. Was needed by #dw-fs-openid-login or #dw-fs-lgi-simple.
Now *sometimeis* needed by #dw-fs-flg, or some radio button float
drops and scrollbars appear. Sometimes? Yes, in Chrome `14.0.835.186'
on my KDE computer — but not in Chrome `14.0.835.186 beta' on my
Gnome computer. Perhaps better keep this fix, since hard to know if
it works everywhere, even if it works fine for you. */
.dw-fs.ui-dialog-content {
  /*margin: 20px 0 0; /* cancel .dw-fs too wide margin */
  /*padding: 0 !important; /* cancel jQuery UI's inline style */
  width: 100% !important; /* otherwise sometimes float drop */
}

.dw-fs.ui-dialog-content > form {
  border: none; /* the buttonpane is outside, same color as form */
  /* Cancel z-index:1100 rule, otherwise the <form> would be placed
  lower than the jQuery UI dialog itself, and jQuery would stop clicks. */
  z-index: auto; /* cancel rule */
}

.dw-fs small {
  font-size: 70%;
}

.dw-fs form label {
  margin-top: 1ex;
  display: inline-block; /* or margin has no effect */
}

.dw-f input, .dw-f select, .dw-f textarea,
.dw-fs input, .dw-fs select, .dw-fs textarea { /* COULD use only dw-f not -fs */
  display: block; /* This also ditches any descender space...
  ...The descender space below the textarea would otherwise cause
  overflow — a terrible vertical scrollbar would appear, in those
  cases where I've attempted to fit it exactly inside its parent. */
}

.dw-fs input[type='checkbox'] {
  display: inline;
}

.dw-pri form input[type='text'],
.dw-pri form textarea {
  font-family: Verdana, sans-serif; /* the font .dw-post .dw-text uses */
  margin-top: 0.7em;
}

.dw-pri form textarea {
  width: 100%;
  resize: none; /* disable Chrome's default-resizable (and
                   make the accordion resizable instead) */
  padding-right: 0px;  /* else 97% (above) often too large, so... */
  padding-bottom: 0px; /* ...scrollbars appear */
  border-color: #aaa; /* default black is too sharp */
}
/* IE 7 bugfix, root thread reply textarea otherwise 2000 or 20000px wide. */
.dw-hor > .dw-res > .dw-fs-re textarea { max-width: 440px; }

/* CodeMirror problem fix — don't change the height of CodeMirror's
internal <textarea>, or CodeMirror won't work (it'll ignore most
key presses).*/
.CodeMirror textarea {
  height: auto !important;
}
/* The default seems to be 10px wich is almost unreadable. */
.CodeMirror {
  font-size: 13px;
}
/* Make CodeMirror auto-resize its height.
(Works also without .dw-prio -- although CodeMirror specifies 300px
*later*. Weird.) */
.dw-pri .CodeMirror-scroll {
  height: auto;
  overflow-y: hidden;
  overflow-x: auto;
  width: 100%;
}
/* Show tabs. */
.cm-tab:after {
  content: "\21e5";
  display: -moz-inline-block;
  display: -webkit-inline-block;
  display: inline-block;
  width: 0px;
  position: relative;
  overflow: visible;
  left: -1.4em;
  color: #aaa;
}

.dw-name-or-alias {
  float: left; /* TODO: need not float everything? */
  clear: both;
  margin-top: 1.8em;
}

.dw-submit-set {
  float: left;
  clear: both;
  margin-top: 1.3em;
}


/* --- Hoversubmit form --- */

/* A modal dialog, with huge Enter and Cancel buttons that submit/cancel
on mouseenter.  */

form.dw-hoversubmit {
  float: none;
  position: absolute;
  /* No top & left. Instead, we center the form on the mouse cursor,
  via jQuery. */
  width: 220px;
  z-index: 1110; /* place above e.g. the reply form */
  padding: 1.3em;
  background-color: white;
}

.dw-hoversubmit .dw-fi-submit {
  position: absolute;
  top: 0px;
  left: -89px;
  height: 100%;
  width: 90px;
}

.dw-hoversubmit .dw-fi-submit.ui-button-disabled {
  opacity: 0.55; /* my sister thought it was placed below the overlay,
     perhaps making it more opaque (jQuery UI default is 0.35) helps? */
}

.dw-hoversubmit .dw-fi-cancel {
  position: absolute;
  bottom: -53px;
  left: 0px;
  height: 55px;
  width: 100%;
}
/* Places the cancel buttom above the form (instead of below it). */
.dw-hoversubmit .dw-fi-cancel.dw-flip {
  top: -53px;
  bottom: auto;
}

/* Javascript adds .ui-widget-overlay too. */
.dw-pri .dw-hoversubmit-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 9999px;
  height: 9999px;
  z-index: 1109; /* just below dw-hoversubmit */
  opacity: 0.8;
}

.dw-pri .dw-inf-submitting-form {
  position: absolute;
  padding: 1em 2em;
  left: 15px;
  top: -29px;
}

.dw-pri .dw-inf-cancelled-form {
  position: absolute;
  padding: 1.5em 3em;
  left: 15px;
  top: -29px;
}


/* --- Login dialog --- */

/* Assume user logged out */
#dw-u-info,
#dw-a-logout {
  display: none;
}

.dw-lgi {
  float: left;
  clear: both;
  margin: 10px 0;
}

#dw-fs-lgi-simple {
  /* Use whole parent jQuery UI dialog, else scrollbars tend to appear.
   jQuery UI seems to change the width to `auto'. */
/*  width: 100% !important;
  overflow: visible; /* or north-south scrollbar appears in Chrome */
}

.dw-lgi-openid {
  padding: 0 30px 0 0;
  margin-right: 45px;
  height: 105px;
  width: 125px;
  position: absolute;
  left: 0; /* or IE 7 places it far to the right */
}

.dw-lgi-openid-info {
  margin: 1em 0;
}

.dw-lgi-openid-why {
  margin-top: 1em;
}

.dw-a-login {
  font-size: 200%;
  margin-left: 10px;
  color: #3872AB;
}

.dw-a-login-openid {
  display: block;
}

.dw-lgi-or-wrap {
  position: absolute;
  height: 100%;
  left: 190px; /* 50px + 140px, see .dw-lgi-openid */
  background-color: #FBF7F2;
  border-right: 1px solid #ccc;
}

.dw-lgi-or-word {
  top: 96px;
  right: -9px;
  position: absolute;
  background-color: #FBF7F2;
  padding: 4px 0 4px;
  font-weight: bold;
}

.dw-lgi-simple {
  margin-left: 170px;
}

.dw-lgi-simple-info {
  padding: 1em 0 0.7em;
}

.dw-lgi-simple label {
  margin-top: 0.7em;
}

.dw-lgi-simple input {
  margin-top: 3px !important; /* COULD remove my own conflicting rule */
  width: 200px;
}

#dw-fi-lgi-url-lbl {
  margin-top: 1.3ex;
}


/* === Email notification preferences === */

#dw-f-eml-prf .dw-submit-set {
  float: none;
}

#dw-f-eml-prf .ui-button {
  float: right;
}

#dw-fi-eml-prf-adr {
  width: 18em;
}

#dw-f-eml-prf input[type='submit'] { /* the Done button */
  margin-top: 1.3em;
}


/* === Reply === */

.dw-res > .dw-fs-re {
  position: relative; /* vertical png arrow positioned relative this */
}

.dw-fs-re > form {
  min-width: 210px;
  padding-top: 0;
  margin-top: 0;
}

.dw-fs-re label {
  display: inline-block;
  margin-right: 0.4em;
  margin-top: 0;
  float: none; /* cancel Twitter Bootstrap's float: left */
  width: auto; /* cancel Twitter Bootstrap's width: NNNpx */
}

.dw-fs-re textarea {
  resize: none; /* need to disable Chrome's default-resizing-of-textarea,
                  because the parent <form> (which is also resizable)
                  isn't resized when the textarea is resized */
}

.dw-fs-re textarea:focus {
  border: 1px solid #91cdff; /* the .dw-keyrecvr color */
  outline: 1px solid #91cdff;
}


.dw-user-contrib-license {
  float: left; /* TODO? Stop floating everything in the <form>s */
  clear: both;
  color: #666;
  font-size: 75%;
  margin: 9px 0 0;
  max-width: 34em; /* or license text makes reply-thread very wide */
}
.dw-pri .dw-user-contrib-license a {
  color: #99a;
}

.dw-fs-re .dw-inf-submitting-form {
  top: auto;
  bottom: 95px;
  left: 40px;
}


/* === Rate === */

.dw-fs-r {
  margin: 0 0 30px 20px;
}

.dw-f-r {
  min-width: 250px; /* at least 2 rat-tag-set:s wide */
}

.dw-fs-r .dw-r-tag-set {
  float: left;
  max-width: 8em;
}

.dw-fs-r .dw-r-tag-set .ui-button {
  min-width: 7em;
}

.dw-fs-r .dw-show-more-r-tags {
  margin-top: 1em;
  float: left; /* otherwise margin-top has no effect, why not? */
  clear: both;
  font-size: 85%;
}

/* Stack more-rating-tags horizontally. */
.dw-fs-r .dw-more-r-tags {
  display: none; /* shown on .dw-show-more-r-tags click */
  clear: both;
  margin-top: 1em;
  max-width: none;
}
.dw-fs-r .dw-more-r-tags label {
  float: left;
  min-width: 0 !important;
}

.dw-f-r .dw-inf {
  padding: 1ex;
  background-color: white;
}

.dw-f-r-inf-changing {
  display: none;
}

.dw-f-r .dw-inf-submitting-form {
  top: auto;
  bottom: 23px;
  left: 40px;
}

.dw-f-r .dw-hoversubmit-2 {
  display: none;
}


/* === Rate form, with hoversubmit === */

.dw-f-r.dw-hoversubmit {
  background-color: transparent;
  /* Make jQuery position the form away from the window borders. */
  padding: 75px 100px;
  margin: 0;
}

.dw-f-r.dw-hoversubmit,
.dw-f-r.dw-hoversubmit .dw-f-r-tag-pane {
  width: 380px;
}

.dw-f-r.dw-hoversubmit .dw-f-r-tag-pane {
  float: left; /* wrap children; they float */
  padding: 15px 0 8px;
  background-color: white;
  position: relative; /* or cancel btn won't stretch to fill width */
}

/* Show a second submit button to the right, so one won't have to
move the mouse so very far (a few hundered pixels) to hoversubmit. */
.dw-hoversubmit .dw-f-r .dw-hoversubmit-2 {
  display: block;
  right: -89px;
  left: auto;
}

.dw-f-r.dw-hoversubmit .dw-r-tag-set-1 {
  margin-left: 45px;
}

.dw-f-r.dw-hoversubmit .dw-r-tag-set-2 {
  position: absolute;
  right: 35px;
}

.dw-hoversubmit .dw-r-tag-set-1 .ui-button:first-of-type {
  position: relative;
  left: 30px;
}

.dw-hoversubmit .dw-r-tag-set-1 .ui-button:last-of-type {
  position: relative;
  left: -10px;
}

.dw-hoversubmit .dw-r-tag-set-2 .ui-button:first-of-type {
  position: relative;
  left: -30px;
}


/* === Flag === */

.dw-f-flg-rsns {
  margin: 0.5ex 0 1em;
}

/* === Edits dialog === */
/* Dialog background made white by javascript. */

/*.ui-tabs-nav > li {
  background-color: transparent;
} */

#dw-e-sgs {
  overflow: hidden; /* child height is 100%, so border exdends downw */
}

/* The dialog is 1000 px wide, see debiki.js: $showEditsDialog() */
#dw-e-sgss,
#dw-e-sgs-diff,
#dw-e-sgs-save-diff,
#dw-e-sgs-prvw {
  float: left;
  padding: 3px 18px 0;
  margin-top: 10px;
  min-height: 5em;
  border-left: 1px solid #DDD;
  height: 100%; /* make border exdend downwards */
}
#dw-e-sgss {
  padding-left: 0;
  width: 220px;
  border-left: none;
}
#dw-e-sgs-diff {
  width: 290px;
}
#dw-e-sgs-save-diff {
  width: 290px;
  display: none; /* for now */
}
#dw-e-sgs-prvw {
  padding-right: 0;
  width: 380px;
}

#dw-e-sgs-org-src {
  display: none;
}

#dw-e-sgs .dw-e-sgs {
  margin: 1ex 0 25px 0;
}

#dw-e-sgs .dw-e-sg-e {
  margin-left: 9px;
}

#dw-e-sgs .dw-e-sgs .dw-as {
  margin: 7px 0px 3px 0px;
}

#dw-e-sgs .dw-e-sg .dw-as .ui-button-text {
  padding: .15em 1ex; /* or a relatively huge button */
}

#dw-e-sgs-diff-text {
  margin-top: 5px;
  padding: 0.7ex;
  background: white;
}

#dw-e-sgs-prvw-html {
  margin-top: 5px;
  padding: 0.7ex;
  background: white;
}

/* === Edit form === */

/* (Some properties defined elsewhere, search for dw-e-tab.) */

.dw-pri .dw-f-e .dw-e-tabs,
.dw-pri .dw-f-e .ui-widget-header, /* not needed, done in jQuery UI integr. */
.dw-pri .dw-f-e.ui-widget-content {
  background: transparent;
  border: none;
}

.dw-ui-simple .dw-f-e-mup { display: none; }

.dw-pri .dw-f-e .dw-e-tab {
  border: 1px solid #bbb;
  overflow: auto;
  padding: 0;
}
/* ... the textarea is outlined on :focus — add paddding so outline visible. */
.dw-pri .dw-f-e .dw-e-tab-edit {
  padding: 1px;
}
/* ... change padding for root post preview /* and fix a bug */
.dw-depth-0 > .dw-p > .dw-f-e .dw-e-tab-prvw {
  padding: 1em;
}
/* ... for other previews, place some padding on the -bd-blk (!)
not the -e-tab-prvw, because otherwise the panel becomes too wide
and its right part is cut of by the parent thread (which has
visibility:hidden) — some jQuery UI weird internal stuff? */
.dw-e-tab-prvw > .dw-p-bd-blk {
  padding: 1ex;  /* don't place directly on the .dw-e-tab-prvw */
}

/* The root post has no width restriction on .dw-e-tabs,
 since it's not placed inside a thread (which has a certain width). */
.dw-depth-0 > .dw-p > .dw-f-e .dw-e-tabs > .dw-e-tab-edit,
.dw-depth-0 > .dw-p > .dw-f-e .dw-e-tabs > .dw-e-tab-diff {
  width: 800px;
}

.dw-pri .dw-f-e .dw-e-tab-edit textarea {
  height: 100%;
  margin: 0;
  padding: 0;
  border: none; /* would cause overflow, scrollbars would appear in tab panel */
  outline-offset: 0px; /* Chrome defualts to -2px */
}

/* Indicate focus. */
.dw-pri .dw-f-e .dw-e-tab-edit textarea:focus {
  outline: 1px solid #91cdff; /* the .dw-keyrecvr color */
}

/* Indicate keyboard shortcut target. */
.dw-pri.dw-pri .dw-keyrecvr .dw-e-tab {
  border: 1px solid #91cdff;
}


.dw-f-e-inf-save,
.dw-f-e .dw-f-e-prvw-info,
.dw-f-e .dw-f-e-sugg-info { /* COULD rename to .dw-f-e-inf-sg? */
  margin-top: 1em;
  padding: 6px;
  max-width: 32em;
  float: left; /* or margin-top has no effect */
  clear: both;
  background-color: #FFEFC6;
}

.dw-f-e-inf-save,
.dw-f-e .dw-f-e-sugg-info > strong {
  color: green;
  font-weight: bold;
}

.dw-f-e-inf-save {
  display: none;
  float: none; /* or it floats to the left of the edit tabs */
}

/* Place the stubmit buttons close to the edit form, away from
replies/arrows below, so it's easy to see what they are
related to. */
.dw-f-e .dw-submit-set {
  margin-top: 0.5em;
  margin-bottom: 1em;
}

.dw-f-e .dw-inf-submitting-form {
  top: auto;
  bottom: 80px;
  left: 60px;
}


/* === Edit history / suggestions === */  /* — old not in use? */

.dw-fs-e { /* currently almost identical to <form> */
  position: relative;
  z-index: 1100;
}

.dw-fs-e form {
  margin: 1em 0;
  float: none; /* or won't be wide enough to fill up parent */
  clear: both; /* or show-form buttons appear to the left */
}

.dw-depth-0 .dw-fs-e {
  clear: both; /* or placed to the right of the action links */
}

.dw-fs-e > a {
  margin: 0.8em 0;
  float: left; /* or 100% wide when sliding up/down, weird */
  clear: both; /* or stacked horiz. when forms sliding up/down */
}

.dw-fs-e form:first-of-type,
.dw-fs-e > a:first-of-type {
  margin-top: 0;
}

.dw-fs-e .ui-accordion {
  margin-top: 0.75em;
}

.dw-fs-e .ui-accordion-content {
  padding: 0.7em 0.2em 0 0.6em !important; /* otherwise too much padding */
  background: #f2f2f2; /* jQuery UI's default bg is somewhat obtrusive*/
  border: 1px solid #BBB;
}

.dw-fs-e .ui-accordion-content p {
  /* Use same font/size as .dw-debate */
  font-family: Verdana, sans-serif;
  font-size: 93%;
  line-height: 110%;
}

.dw-fs-e .ui-accordion h4 {
  font-weight: normal !important;
  font-size: 93%;
}

.dw-fs-e h4.dw-your-edit {
  font-weight: bold !important;
}

.dw-f-e-btns-vote,
.dw-edit-liking-stats {
  margin: 1em 0 0;
}

.dw-edit-dates {
  margin: 0 0 1.1em;
}

.dw-edit-dates,
.dw-edit-liking-stats {
  font-style: italic;
  font-size: 85%;
}

/* === Delete comment form === */

#dw-fi-dl-tree {
  margin: 1em 0 0;
}

/* === Create page form === */

.dw-f-cr {
  margin: 60px 0 30px;
}

.dw-f-cr .dw-fi-submit {
  margin-top: 30px;
}

.dw-f-cr ul > li {
  list-style-type: disc; /* the page creation info list */
}

/* === Marks === */

/* Outline all posts in a new thread. */
.dw-m-t-new .dw-p {
  border: 3px solid #f1cdbc; /*f0d38a; #f1ded5; */
}

.dw-m-p-edited {
  border: 3px solid #f1cdbc;
}


/* === Notifications === */

.dw-dlg-rsp {
  height: auto !important; /* or jQuery UI [1.8.16] sets 38px and
                              scrollbars appear */
}

form .dw-ntf {
  float: left; /* or floating stuff might end up floating inside the .dw-ntf */
  clear: both;
  margin-bottom: 10px; /* or might overlap with resize form southeast handle */
}

.dw-ntf {
  font-family: monospace;
  margin-top: 1em;
}

.dw-ntf .ui-state-error {
  padding: 0.1em 0.1em 0.2em 0.4em;
}

.dw-ntf .ui-dialog-titlebar-close {
  float: right;
  height:20px; /* easier to click, if 20px instead of default 16px */
  width: 20px;
}

.dw-ntf .dw-ntf-bd {
  margin-left: 20px; /* no text below the notification icon */
}

.dw-ntf-sts {
}

.dw-ntf-msg {
  font-weight: bold;
}

.dw-ntf-at {
  font-size: 65%;
  margin-top: 1ex;
}

.dw-ntf-shw {
  font-style: italic;
  text-decoration: underline;
}

/* Tips */
.dw-tps {
  margin: 1.3em 0 1.5em;
  background-color: #ffe6a5; /* somewhat darker than #ffefc6; */
  padding: 1ex 2ex;
  z-index: 999;
  cursor: pointer;
  box-shadow: 3px 3px 5px #888;
}
.dw-tps strong {
  color: green;
  font-weight: bold;
}
.dw-tps small {
  color: #555;
  font-size: 80%;
}
.dw-tps p:not(:first-of-type) {
  margin-top: 1ex;
}
.dw-tps-close {
  color: #555;
  text-align: right;
  font-size: 85%
}

/* Tips to use Utterscroll. */
#dw-tps-utterscroll {
  display: none; /* Javascript shows tips, if you use the horiz scrollbar */
  position: fixed;
  /* Top & left set by javascript. */
  z-index: 999;
  padding: 1.9ex 2.7ex;
}

/* A tips on how replies are sorted, in the horizontal layout */
#dw-tps-sort-order {
  position: absolute;
  top: -210px;
  left: -250px;
  white-space: nowrap;
}
.dw-tps-sort-order-arw {
  position: relative;
  height: 15px;
  top: 8px;
  width: 55px;
  display: inline-block;
  margin: 0 10px 0 0;
  background: url(img/arrows-etcetera-gray.png) no-repeat 0 -327px;
}
.dw-tps-sort-order-arw.dw-flip-hz {
  margin: 0 0 0 10px;
}
.dw-tps-sort-order-your-post {
  white-space: normal;
  display: inline-block;
  max-width: 133px;
  text-align: center;
  vertical-align: middle;
}

/* Tips to rate one's own reply. */
.dw-pri .dw-tps-rate-own-post {
  position: absolute;
  width: 210px;
  top: -40px;
  left: 115px;
}
.dw-tps-arw-left {
  background: url(img/arrows-etcetera-gray.png) no-repeat 0 -287px;
  position: absolute;
  left: -20px;
  top: 13px;
  width: 26px;
  height: 38px;
}
.dw-p-as-with-tips {
  visibility: visible !important;
}


/* === Inbox === */
/* COULD get rid of #sidebar selector somehow — make selectors in
debiki-lift.css less inclusive? */

#sidebar .dw-ibx {
  margin-top: 2.2em;
  color: #777;
  font-size: 13px;
}

#sidebar .dw-ibx li {
  color: #777;
  margin-left: 0;
  font-size: 12px;
}

#sidebar a.dw-ibx-pg-ttl {
  color: #444  !important;
  --font-weight: bold;
}

#sidebar a.dw-ibx-p-bd {
  font-size:90%;
  color: #666;
}



/* === Miscellaneous === */

.dw-data-yaml {
  display: none;
}

/* --- Clearfix  --- */

/* A child, the root thread .dw-depth-0, floats left. */
.debiki.dw-debate:after,
.dw-t.dw-hor > .dw-res:after, /* children, .dw-t:s floats left */
/* Makes the root post wrap its (floating) children,
don't know if needed for other horizontal threads. */
.dw-t.dw-hor > .dw-p:after,
/* Sometimes when I write plugins for other frameworks (e.g. WordPress),
 some floating thing (WordPress '#respond' form) is inserted into
 a .dw-t, and unless the .dw-t wraps it, the PNG arrow hiders won't
 hide PNG arrows correctly (because the .dw-t and thus the arrow
 hiders wouldn't be tall enough, if it didn't wrap floating children). */
.dw-t:after,
/* Its children, .dw-p-bd-blk:s, float left. */
.dw-p-bd:after,
/* Contents might float */
.dw-fs:after,
.dw-fs form:after,
/* I suppose some edit form child floats left? */
.dw-f.dw-f-e:after {
  /* Copied from jquery-ui-1.8.16.custom.css. */
  content: "."; display: block; height: 0; clear: both; visibility: hidden;
}


/* === jQuery UI integration === */

/* Here's a color blender: http://websitetips.com/colortools/colorblender/
 */

/* Same color as the ui-buttons */
.dw-ui-state-default-color { color: #1c80c4; /*1c94c4;*/ }
.dw-ui-state-default-color-bright { color: #83c5df; }
.dw-ui-state-default-color-brighter { color: #c1e2ef; }
.dw-ui-state-default-color-brightest { color: #eaf5fa; }

/* Same font */
.dw-ui-widget-font {
  font-family: 'Trebuchet MS', Tahoma, Verdana, Arial, sans-serif;
}

/* Remove tab navigation background color and border. */
.dw-pri .ui-tabs .ui-tabs-nav {
  background: transparent;
  border: none;
}

.dw-pri .ui-tabs .ui-tabs-panel {
  border: 1px solid #BBB;
}


/* Tabs placed below their content, see: jqueryui.com/demos/tabs/#bottom */
.dw-ui-tabs-bottom {
  position: relative;
}
.dw-ui-tabs-bottom > .ui-tabs-panel {
  height: 140px;
  overflow: auto;
} 
.dw-pri .dw-ui-tabs-bottom > .ui-tabs-nav {
  position: absolute !important;
  left: 0;
  bottom: 0;
  right:0;
  padding: 2px 2px 0;
} 
.dw-ui-tabs-bottom > .ui-tabs-nav li {
  margin-top: -2px !important;
  margin-bottom: 3px !important;  /* [debiki] changed from 1px to 3px */
  border-bottom-width: 1px;
  border-top: 2px transparent;
}
.dw-ui-tabs-bottom > .ui-tabs-nav > .ui-tabs-selected {
  margin-top: -2px !important;
}
/* ... My additional fixes */
.dw-ui-tabs-bottom > .ui-tabs-panel {
  margin-bottom: 29px; /* push the tab naw downwards */
  z-index: 1; /* place above, and hide, tab nav button upper borders */
  position: relative; /* or z-index ignored */
  background: white !important; /* or won't hide tab nav button upper borders */
}
/* ... Make the selected tab nav button's upper border hide the tab panels
lower border, so there's effectively no border (since background is white)
between the active tab and the tab panel */
/* Skip this, the white border overlaps the scrollbar.
And on focus, the tab <li> is outlined (which is fairly nice actualy),
so there's a border regardless. */
/* .dw-ui-tabs-bottom > .ui-tabs-nav > li.ui-tabs-selected { */
  /* border-top: 2px white; /* same as background color */
  /* z-index: 2; /* place above panel (hides the panel border) */
/*}*/
.dw-pri .dw-ui-tabs-bottom .ui-tabs-nav li {
  border-bottom: 1px solid !important; /* cancel hiding of bottom border */
}
/* ... Don't let other CSS override font size etcetera, that'd affect the
tap height — they might overlap with the tab panel, or there might be a glap.
Alternatively, COULD config jQuery UI with #dw-pri (instead of .dw-pri),
then other CSS wouldn't override jQuery UI so easily. */
.dw-pri.dw-pri .ui-tabs-nav li a {
  font-family: Trebuchet MS, Tahoma, Verdana, Arial, sans-serif;
  font-size: 13px;
  line-height: 17px;
}
/* ... Remove "outline border" between active tab and panel
 — no keep it, it's nice to have * /
.dw-pri.dw-pri .ui-tabs-nav li.ui-tabs-selected a {
  outline: none; /* or .ui-state-focus on parent <li> —> outline * /
}*/


/* Undo settings to .dw-pri .ui-widget, when they affect contents
inside widgets, rather than buttons and tabs. */
.dw-pri .ui-widget.ui-widget-content {
  font-family: Verdana, sans-serif; /* same as for .dw-debate */
  font-size: 100%; /* jQuery UI sets .dw-pri .ui-widget to 1.1em */
}

/* Undo settings to .dw-pri .ui-widget textarea */
.dw-pri .ui-widget textarea {
  font-family: Verdana, sans-serif;
  font-size: 100%; /* else jQuery UI sets 1em */
}

/* Undo link colors */
.dw-pri .ui-widget-content a {
  color: #00c;  /* same as a:link */
}

/* Makes a jQuery-UI-button():ized <a> tag look more like a link */
.dw-ui-state-default-linkified {
  border: none !important;
  background: none !important;
}

/* Make accordions smaller; jQuery UI padds a little bit too much? */
.dw-pri .ui-accordion .ui-accordion-header a {
  padding: 0.2em 0.2em 0.2em 0.7em;
}

/* jQuery UI bug fix: in the jQuery-auto-generated file, ".debiki"
 is missing (on the next line). */
.dw-pri input.ui-button { padding: .4em 1em; }


/* Twitter Bootstrap
==========================*/

/* From http://twitter.github.com/bootstrap/assets/css/bootstrap.css,
2012-03-21, v.2.0.2. */
.tooltip {
  position: absolute;
  z-index: 1020;
  display: block;
  visibility: visible;
  padding: 5px;
  font-size: 11px;
  opacity: 0;
  filter: alpha(opacity=0);
}
.tooltip.in {
  opacity: 0.8;
  filter: alpha(opacity=80);
}
.tooltip.top {
  margin-top: -2px;
}
.tooltip.right {
  margin-left: 2px;
}
.tooltip.bottom {
  margin-top: 2px;
}
.tooltip.left {
  margin-left: -2px;
}
.tooltip.top .tooltip-arrow {
  bottom: 0;
  left: 50%;
  margin-left: -5px;
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-top: 5px solid #000000;
}
.tooltip.left .tooltip-arrow {
  top: 50%;
  right: 0;
  margin-top: -5px;
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-left: 5px solid #000000;
}
.tooltip.bottom .tooltip-arrow {
  top: 0;
  left: 50%;
  margin-left: -5px;
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-bottom: 5px solid #000000;
}
.tooltip.right .tooltip-arrow {
  top: 50%;
  left: 0;
  margin-top: -5px;
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-right: 5px solid #000000;
}
.tooltip-inner {
  max-width: 200px;
  padding: 3px 8px;
  color: #ffffff;
  text-align: center;
  text-decoration: none;
  background-color: #000000;
  -webkit-border-radius: 4px;
  -moz-border-radius: 4px;
  border-radius: 4px;
}
.tooltip-arrow {
  position: absolute;
  width: 0;
  height: 0;
}
/* [kajmagnus@debiki] Workarounds. */
.tooltip {
  width: 500px; /* or Chrome makes it very thin, when outside browser window,
                  so the tip arrow gets offset incorrectly. */
}


/* SVG
==========================*/

.dw-p-bd.dw-svg-parent {
  --z-index: 1; /* makes svg (with z-index -1, see below) visible (weird!) */
  /* above z-rule commented out on 2012-06-03, remove after some months? */
}

.dw-t svg {
  position: absolute;
  top: 0;
  left: 0;
  height: 100%; /* or Opera, only Opera, sets 150px, no idea why */
  width: 100%; /* perhaps some future version of Opera will break otherwise */
}

.dw-svg-parent > :not(svg) { /* [31Ik53] */
  z-index: 2; /* or would not be clickable; <svg> would be above */
  position: relative; /* or z-index has no effect */
}

#dw-t-root {
  overflow: hidden; /* hides the excessively wide <svg> elems, see above */
}

.dw-t svg path {
  fill: none;
  /* Warning: stroke color also specified in debiki.js, $highlightOff(). */
  stroke: #dbdbdb;
  stroke-width: 3;
}

/* This doesn't work; cannot add class dw-highlight to a <path> at runtime.
TODO style an invisible elem in this manner, and read the props via
JavaScript. Then I can still place all CSS stuff in this file. */
/*
.dw-t svg path.dw-highlight {
  stroke-width: 4;
  stroke: #f0a005;
} */

.dw-flip-hz {
  -moz-transform: scaleX(-1);
  -o-transform: scaleX(-1);
  -webkit-transform: scaleX(-1);
  transform: scaleX(-1);
  filter: FlipH;
  -ms-filter: "FlipH";
}

.dw-t-vspace {
  position: relative;
}

.dw-svg-fake-varrow,
.dw-svg-fake-harrow,
.dw-svg-fake-harrow-end {
  background-color: #ddd;
  position: absolute;
  z-index: 1;
}

.dw-svg-fake-harrow,
.dw-svg-fake-harrow-end {
  height: 3px;
  width: 100%;
  top: 44px;
}

.dw-t > .dw-svg-fake-harrow {
  top: -54px;
  background-color: white;
  display: block;
  height: 10px;
}

.dw-t > .dw-svg-fake-harrow-end {
  display: block;
  top: -54px;
  background-color: white;
  display: block;
  height: 10px;
  position: absolute;
  /* 30px is enough, but because of a 100px bug workaround in
  `resizeRootThreadImpl()` in debiki.js, it's 130px. [3krdi2]*/
  right: -130px;
  width: 130px;
}

.dw-svg-fake-varrow {
  height: 100%;
  width: 3px;
  left: 3px;
}

.dw-svg-fake-vcurve-short {
  background-color: transparent;
  background: url(img/arrows-etcetera-gray.png) no-repeat 0 -225px;
  position: absolute;
  top: -52px;
  left: -44px;
  height: 59px;
  width: 39px;
}

.dw-t:last-child > .dw-svg-fake-hcurve {
  z-index: 2; /* hide the horizontal arrow below */
}

.dw-svg-fake-hcurve,
.dw-svg-fake-hcurve-start {
  background: transparent url(img/arrows-etcetera-gray.png) no-repeat 0 0;
  position: absolute;
  top: -52px;
  left: -24px;
  height: 34px;
  width: 61px;
}

.dw-svg-fake-hcurve-start,
.dw-svg-fake-hcurve-start-solo {
  background: url(img/arrows-etcetera-gray.png) no-repeat 0 -79px;
  position: absolute;
  top: 7px;
  left: 0px;
  height: 72px;
  width: 57px;
  z-index: 2;
}

.dw-svg-fake-hcurve-start-solo {
  background: url(img/arrows-etcetera-gray.png) no-repeat 0 -152px;
  height: 72px;
  width: 38px;
}

.dw-svg-fake-arrow-hider {
  z-index: 2; /* hides the varrow or harrow */
}

.dw-svg-fake-varrow-hider-hi,
.dw-svg-fake-varrow-hider-lo,
.dw-svg-fake-varrow-hider-left {
  background-color: white;
  position: absolute;
  height: 35px;
  width: 30px; /* the curve images are fairly wide */
  z-index: 2;
}

.dw-svg-fake-varrow-hider-lo {
  bottom: 0px;
  height: 40px;
}

.dw-svg-fake-varrow-hider-left {
  bottom: 0px;
  height: 100%;
  left: -55px;
}



/* Public API
--------------------------*/

.debiki-0-reply-button-text {
  display: none;
}

img.debiki-0-inline {
  display: inline;
  margin: 0;
  width: auto;
}

/* vim: fdm=marker et ts=2 sw=2 tw=80 fo=tcqwn list
 */
